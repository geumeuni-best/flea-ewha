<!-- 판매 요청 등록 화면 -->

{% extends "index.html" %}

{% block head_extra %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/reg_requests.css') }}">
<script src="{{ url_for('static', filename='js/reg_requests.js') }}" defer></script>
{% endblock head_extra %}

{% block section %}
  <section class="reg-requests-section" aria-labelledby="reg-requests-title">
    <div class="form-wrap">
      <h1 id="reg-requests-title" class="reg-requests-title">판매 요청 등록</h1>

      <form action="/submit_request_post" method="post" enctype="multipart/form-data" class="request-form">

        <!-- 상품 검색 -->
        <div class="form-row search-row">
          <div class="search-box">
            <input id="search" name="search" type="text" placeholder="상품명으로 검색" required>
            <img src="{{ url_for('static', filename='image/검색 돋보기.png') }}" alt="검색 돋보기 아이콘" class="search-btn">
          </div>
          <div id="item-search-result" class="search-result-list"></div>
        </div>

        <!-- 요청자 닉네임 -->
        <div class="form-row">
          <label for="nickname" class="field-label">요청자 닉네임</label>
          <input id="nickname" name="nickname" type="text" value="{{ nickname }}" class="read-only" readonly>
        </div>

        <!-- 선택한 상품 -->
        <div class="form-row selected-item">
          <input type="hidden" id="selected_item" name="selected_item" value="">
          <label class="field-label">선택한 상품</label>
          <div class="item-preview">
            <img src="{{ url_for('static', filename='image/no_image.png') }}" alt="선택 상품 없음" class="product-img" id="product-img">
            <div class="product-info">
              <p class="product-name">상품명</p>
              <p class="product-seller">품절</p>
              <div class="product-rating">
                <span class="stars">★★★★★</span>
                <span class="rating-value">(0)</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 요청 제목 -->
        <div class="form-row">
          <label for="title" class="field-label">요청 제목</label>
          <input id="title" name="title" type="text" placeholder="요청 제목" required>
        </div>

        <!-- 요청 내용 -->
        <div class="form-row">
          <label for="content" class="field-label">요청 내용</label>
          <textarea id="content" name="content" rows="8" placeholder="참고된 제품에 대한 요청 내용을 적어주세요." required></textarea>
        </div>

        <!-- 버튼 -->
        <div class="form-actions">
          <button type="button" class="btn btn-ghost" onclick="history.back()">취소</button>
          <button type="submit" class="btn btn-primary">등록</button>
        </div>
      </form>
    </div>
  </section>
{% endblock section %}

